function dydt = satellite_dynamics(t, y, params, torque_fun)
    arguments
        t (1, 1) double
        y (7, 1) double
        params_struct
        torque_fun (1, 1) function_handle =  @(tt, yy) [0;0;0]
    end

    validateattributes(params.InertiaMatrix, {'double'}, {'size', [3,'3d']});

    omega = y(1:3)
    q = y(4:7);

    M = torque_fun(t, y)

    I = params.InertiaMatrix
    omega_dot = 
end